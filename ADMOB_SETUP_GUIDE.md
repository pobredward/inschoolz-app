# 🔧 AdMob 리워드 광고 설정 가이드

## ✅ **현재 상황**
- 동영상 왼쪽 위에 "60초 후 리워드 제공" 표시 (정상)
- 경험치 30 지급 설정 완료

## ⚠️ **중요한 사실**
**AdMob 콘솔에서는 광고 시간을 직접 설정할 수 없습니다!**
- 광고 시간은 **광고 제공업체(광고주)가 결정**
- 30초/60초는 실제 광고 영상의 길이에 따라 달라짐
- AdMob은 단지 광고를 중개하는 플랫폼

## ✅ **실제 해결 방법**

### 1. **리워드 설정만 수정 가능**

AdMob 콘솔에서 수정할 수 있는 것:

#### **Android 광고 단위** (`ca-app-pub-5100840159526765/5519530651`)
1. **앱** → **InSchoolz (Android)** → **광고 단위** 선택
2. 리워드 광고 단위 클릭
3. **리워드 설정**에서:
   ```
   리워드 아이템: 경험치 (XP)
   리워드 수량: 30 (기존 50에서 변경)
   ```

#### **iOS 광고 단위** (`ca-app-pub-5100840159526765/6241709090`)
1. **앱** → **InSchoolz (iOS)** → **광고 단위** 선택
2. 새로운 리워드 광고 단위 클릭
3. **리워드 설정**에서:
   ```
   리워드 아이템: 경험치 (XP)
   리워드 수량: 30
   ```

### 2. **광고 시간 문제 해결**

**광고 시간은 변경할 수 없지만**, 다음과 같이 대응할 수 있습니다:

#### **광고 최적화 방법**
1. **광고 필터링 설정**:
   - AdMob → 차단 제어 → 광고 검토 센터
   - 부적절한 카테고리 차단

2. **광고 카테고리 특성**:
   - 게임, 앱 광고: 30초~60초
   - 브랜드 광고: 주로 60초
   - 현재 대부분 60초 광고가 표준

### 3. **코드 업데이트 완료**

새로운 iOS 광고 단위 ID로 업데이트 완료:

```typescript
// components/ads/AdMobAds.tsx - 이미 적용됨
const REWARDED_AD_UNIT_ID = !isExpoGo ? (
  __DEV__ ? TestIds?.REWARDED : Platform.select({
    ios: 'ca-app-pub-5100840159526765/6241709090', // ✅ 새 ID 적용
    android: 'ca-app-pub-5100840159526765/5519530651',
  })
) : null;
```

## ⏰ **변경 사항 적용 시간**

- **AdMob 설정 변경**: 즉시 적용
- **광고 서버 반영**: 1-2시간 소요
- **TestFlight 확인**: 설정 변경 후 2시간 후 테스트

## 🧪 **테스트 방법**

1. **새 iOS 광고 단위 ID 적용 후 앱 빌드**
2. **TestFlight에서 광고 시청**
3. **콘솔 로그 확인**:
   ```
   🎁 리워드 광고 완료! 지급할 경험치: 30
   🎁 AdMob 리워드 정보: {amount: ??, type: "XP"}
   🎁 경험치 지급 결과: {...}
   ```
4. **실제 경험치 지급 확인**

## 📊 **예상 결과**

### **광고 시간 문제**
- **60초 광고**: 현재 표준 (정상 동작)
- **사용자 경험**: "1분 시청 후 보상" 안내로 정확한 기대치 설정

### **경험치 문제**
- **AdMob 리워드 수량**: 30으로 설정
- **앱 지급 로직**: Firebase 설정 30 사용
- **예상 결과**: +30 XP 지급 ✅

## 🔍 **문제 해결**

### **경험치가 여전히 10인 경우**
1. **로그 확인**: `🎁 AdMob 리워드 정보`에서 `amount` 값 확인
2. **AdMob 설정 확인**: 리워드 수량이 30으로 설정되었는지 확인
3. **캐시 클리어**: 앱 완전 종료 후 재시작

### **광고 시간 관련**
1. **60초 광고**: 정상적인 AdMob 표준 동작
2. **사용자 안내**: "1분 시청 후 보상" 메시지로 정확한 기대치 설정
3. **개선 완료**: 모든 UI 텍스트를 실제 상황에 맞게 수정

## 📞 **지원**

문제가 지속되면:
- [AdMob 고객지원](https://support.google.com/admob) 문의
- "리워드 광고 지급 시점 변경" 요청
